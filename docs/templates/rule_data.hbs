= Red Hat Release configuration

The configuration used in Red Hat Trusted Application Pipeline to configure the policy used by the Red Hat Release Engineering.

This document was generated on {docdatetime} based on the data in {{rule_data_src.editUrl}}[`{{rule_data_src.path}}`] and {{required_tasks_src.editUrl}}[`{{required_tasks_src.path}}`] files from the {{rule_data_src.origin.url}}[{{rule_data_src.origin.url}}] repository at revision `{{rule_data_src.origin.refhash}}`.

{{rule_data_src}}

== Allowed OCI registry prefixes

The following `allowed_registry_prefixes` are configured for the xref:master@ec-policies:ROOT:release_policy.adoc#base_image_registries__base_image_permitted[Base image comes from permitted registry] rule.

{{#if rule_data.allowed_registry_prefixes}}
{{#each rule_data.allowed_registry_prefixes}}
 * `{{ . }}`
{{/each}}
{{else}}
_None configured_
{{/if}}

== Allowed Task step OCI registry prefixes

The following `allowed_step_image_registry_prefixes` are configured for the xref:master@ec-policies:ROOT:release_policy.adoc#step_image_registries__task_step_images_permitted[Task steps ran on permitted container images] rule.

{{#if rule_data.allowed_step_image_registry_prefixes}}
{{#each rule_data.allowed_step_image_registry_prefixes}}
* `{{ . }}`
{{/each}}
{{else}}
_None configured_
{{/if}}

== Allowed Java component repositories

The following `allowed_java_component_sources` are configured for the xref:master@ec-policies:ROOT:release_policy.adoc#java__no_foreign_dependencies[Java builds have no foreign dependencies] rule.

{{#if rule_data.allowed_java_component_sources}}
{{#each rule_data.allowed_java_component_sources}}
* `{{ . }}`
{{/each}}
{{else}}
_None configured_
{{/if}}

== Allowed Tekton PipelineRun parameters

The following `pipeline_run_params` are configured for the xref:master@ec-policies:ROOT:release_policy.adoc#external_parameters__pipeline_run_params[Pipeline run params] rule.

{{#if rule_data.pipeline_run_params}}
{{#each rule_data.pipeline_run_params}}
* `{{ . }}`
{{/each}}
{{else}}
_None configured_
{{/if}}

== Deprecated OCI image labels

The following labels are deprecated with `deprecated_labels` for the xref:master@ec-policies:ROOT:release_policy.adoc#labels__deprecated_labels[Deprecated labels] rule.

{{#if rule_data.deprecated_labels}}
|===
|Deprecated label |Replacement

{{#each rule_data.deprecated_labels}}
|`{{name}}`
|`{{replacement}}`
{{/each}}
|===
{{else}}
_None configured_
{{/if}}

== Required OCI image labels

The following labels are mandatory with `required_labels` for the xref:master@ec-policies:ROOT:release_policy.adoc#labels__required_labels[Required labels] rule.

{{#if rule_data.required_labels}}
|===
|Required label |Description

{{#each rule_data.required_labels}}
|`{{name}}`
|{{description}}
{{/each}}
|===
{{else}}
_None configured_
{{/if}}

== Optional OCI image labels

The following labels are optional with `optional_labels` for the xref:master@ec-policies:ROOT:release_policy.adoc#labels__optional_labels[Optional labels] rule.

{{#if rule_data.optional_labels}}
|===
|Required label |Description

{{#each rule_data.optional_labels}}
|`{{name}}`
|{{description}}
{{/each}}
|===
{{else}}
_None configured_
{{/if}}

== Disallowed OCI image labels

The following labels are optional with `disallowed_inherited_labels` for the xref:master@ec-policies:ROOT:release_policy.adoc#labels__disallowed_inherited_labels[Disallowed inherited labels] rule.

{{#if rule_data.disallowed_inherited_labels}}
{{#each rule_data.disallowed_inherited_labels}}
* `{{name}}`
{{/each}}
{{else}}
_None configured_
{{/if}}

== Required File Based Catalog (FBC) image labels

The following labels are mandatory with `fbc_required_labels` for the xref:master@ec-policies:ROOT:release_policy.adoc#labels__required_labels[Required labels] rule.

{{#if rule_data.fbc_required_labels}}
|===
|Required label |Description

{{#each rule_data.fbc_required_labels}}
|`{{name}}`
|{{description}}
{{/each}}
|===
{{else}}
_None configured_
{{/if}}

== Optional File Based Catalog (FBC) image labels

The following labels are optional with `fbc_optional_labels` for the xref:master@ec-policies:ROOT:release_policy.adoc#labels__optional_labels[Optional labels] rule.

{{#if rule_data.fbc_optional_labels}}
|===
|Required label |Description

{{#each rule_data.fbc_optional_labels}}
|`{{name}}`
|{{description}}
{{/each}}
|===
{{else}}
_None configured_
{{/if}}

== Disallowed File Based Catalog (FBC) image labels

The following labels are optional with `fbc_disallowed_inherited_labels` for the xref:master@ec-policies:ROOT:release_policy.adoc#labels__disallowed_inherited_labels[Disallowed inherited labels] rule.

{{#if rule_data.fbc_disallowed_inherited_labels}}
{{#each rule_data.fbc_disallowed_inherited_labels}}
* `{{name}}`
{{/each}}
{{else}}
_None configured_
{{/if}}

== Required Tekton tasks

{{#if required_tasks.pipeline-required-tasks}}

The following tasks are required for specific PipelineRuns types determined by the `pipelines.openshift.io/runtime` label for the xref:master@ec-policies:ROOT:release_policy.adoc#tasks__required_tasks_found[All required tasks were included in the pipeline] rule.

|===
|Pipeline type |Since |Tasks

{{#each required_tasks.pipeline-required-tasks}}
.{{this.length}}+^.^s|{{@key}}
{{#each this}}
|+++<time datetime="{{effective_on}}">{{effective_on}}</time>+++
a|{{#each tasks}}
* `{{.}}`
{{/each}}
{{/each}}
{{/each}}
|===

{{else}}
No tasks were configured to be required specific Pipeline types determined by the `pipelines.openshift.io/runtime` label for the xref:master@ec-policies:ROOT:release_policy.adoc#tasks__required_tasks_found[All required tasks were included in the pipeline] rule.
{{/if}}

{{#if required_tasks.required-tasks}}

The following tasks are required for the for PipelineRuns that do not contain the `pipelines.openshift.io/runtime` label.

|===
|Since |Tasks

{{#each required_tasks.required-tasks}}
|+++<time datetime="{{effective_on}}">{{effective_on}}</time>+++
a|{{#each tasks}}
* `{{.}}`
{{/each}}
{{/each}}
|===

{{else}}
No tasks are required for the for PipelineRuns that do not contain the `pipelines.openshift.io/runtime` label.
{{/if}}
